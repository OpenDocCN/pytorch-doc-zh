# 从源代码构建

> 原文：[https://pytorch.org/audio/stable/build.html](https://pytorch.org/audio/stable/build.html)

TorchAudio集成了PyTorch进行数值计算和第三方库进行多媒体I/O。构建源代码需要以下工具。

+   [PyTorch](https://pytorch.org)

+   [CMake](https://cmake.org/)

+   [Ninja](https://ninja-build.org/)

+   具有C++ 17支持的C++编译器

    +   [GCC](https://gcc.gnu.org/)（Linux）

    +   [Clang](https://clang.llvm.org/)（macOS）

    +   [MSVC](https://visualstudio.microsoft.com) 2019或更新版本（Windows）

+   [CUDA工具包](https://developer.nvidia.com/cudnn)和[cuDNN](https://developer.nvidia.com/cudnn)（如果构建CUDA扩展）

大多数工具都可以在[Conda](https://conda.io/)中找到，因此我们建议使用conda。

+   [在Linux和macOS上构建](build.linux.html)

+   [在Windows上构建](build.windows.html)

+   [在Jetson上构建](build.jetson.html)

## 自定义构建[](#customizing-the-build "Permalink to this heading")

通过环境变量可以启用/禁用TorchAudio与第三方库的集成。

可以通过传递`1`来启用，通过`0`来禁用。

+   `BUILD_SOX`: 基于libsox的I/O功能的启用/禁用。

+   `BUILD_KALDI`: 基于Kaldi的特征提取的启用/禁用。

+   `BUILD_RNNT`: 启用/禁用自定义RNN-T损失函数。

+   `USE_FFMPEG`: 基于FFmpeg库的I/O功能的启用/禁用。

+   `USE_ROCM`: 启用/禁用AMD ROCm支持。

+   `USE_CUDA`: 启用/禁用CUDA支持。

有关最新配置及其默认值，请查看源代码。[https://github.com/pytorch/audio/blob/main/tools/setup_helpers/extension.py](https://github.com/pytorch/audio/blob/main/tools/setup_helpers/extension.py)
