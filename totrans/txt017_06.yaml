- en: torchtext.data.functional
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://pytorch.org/text/stable/data_functional.html](https://pytorch.org/text/stable/data_functional.html)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '## generate_sp_model[](#generate-sp-model "Permalink to this heading")'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: Train a SentencePiece tokenizer.
  prefs: []
  type: TYPE_NORMAL
- en: 'Parameters:'
  prefs: []
  type: TYPE_NORMAL
- en: '**filename** – the data file for training SentencePiece model.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**vocab_size** – the size of vocabulary (Default: 20,000).'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**model_type** – the type of SentencePiece model, including unigram, bpe, char,
    word.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**model_prefix** – the prefix of the files saving model and vocab.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Outputs:'
  prefs: []
  type: TYPE_NORMAL
- en: The model and vocab are saved in two separate files with
  prefs: []
  type: TYPE_NORMAL
- en: model_prefix.
  prefs: []
  type: TYPE_NORMAL
- en: Examples
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: load_sp_model[](#load-sp-model "Permalink to this heading")
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: Load a sentencepiece model for file.
  prefs: []
  type: TYPE_NORMAL
- en: 'Parameters:'
  prefs: []
  type: TYPE_NORMAL
- en: '**spm** – the file path or a file object saving the sentencepiece model.'
  prefs: []
  type: TYPE_NORMAL
- en: 'Outputs:'
  prefs: []
  type: TYPE_NORMAL
- en: 'output: a SentencePiece model.'
  prefs: []
  type: TYPE_NORMAL
- en: Examples
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: sentencepiece_numericalizer[](#sentencepiece-numericalizer "Permalink to this
    heading")
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: A sentencepiece model to numericalize a text sentence into
  prefs: []
  type: TYPE_NORMAL
- en: a generator over the ids.
  prefs: []
  type: TYPE_NORMAL
- en: 'Parameters:'
  prefs: []
  type: TYPE_NORMAL
- en: '**sp_model** – a SentencePiece model.'
  prefs: []
  type: TYPE_NORMAL
- en: 'Outputs:'
  prefs: []
  type: TYPE_NORMAL
- en: 'output: a generator with the input of text sentence and the output of the'
  prefs: []
  type: TYPE_NORMAL
- en: corresponding ids based on SentencePiece model.
  prefs: []
  type: TYPE_NORMAL
- en: Examples
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: sentencepiece_tokenizer[](#sentencepiece-tokenizer "Permalink to this heading")
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: A sentencepiece model to tokenize a text sentence into
  prefs: []
  type: TYPE_NORMAL
- en: a generator over the tokens.
  prefs: []
  type: TYPE_NORMAL
- en: 'Parameters:'
  prefs: []
  type: TYPE_NORMAL
- en: '**sp_model** – a SentencePiece model.'
  prefs: []
  type: TYPE_NORMAL
- en: 'Outputs:'
  prefs: []
  type: TYPE_NORMAL
- en: 'output: a generator with the input of text sentence and the output of the'
  prefs: []
  type: TYPE_NORMAL
- en: corresponding tokens based on SentencePiece model.
  prefs: []
  type: TYPE_NORMAL
- en: Examples
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs: []
  type: TYPE_PRE
- en: custom_replace[](#custom-replace "Permalink to this heading")
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[PRE8]'
  prefs: []
  type: TYPE_PRE
- en: A transform to convert text string.
  prefs: []
  type: TYPE_NORMAL
- en: Examples
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE9]'
  prefs: []
  type: TYPE_PRE
- en: simple_space_split[](#simple-space-split "Permalink to this heading")
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[PRE10]'
  prefs: []
  type: TYPE_PRE
- en: A transform to split text string by spaces.
  prefs: []
  type: TYPE_NORMAL
- en: Examples
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE11]'
  prefs: []
  type: TYPE_PRE
- en: numericalize_tokens_from_iterator[](#numericalize-tokens-from-iterator "Permalink
    to this heading")
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[PRE12]'
  prefs: []
  type: TYPE_PRE
- en: Yield a list of ids from an token iterator with a vocab.
  prefs: []
  type: TYPE_NORMAL
- en: 'Parameters:'
  prefs: []
  type: TYPE_NORMAL
- en: '**vocab** – the vocabulary convert token into id.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**iterator** – the iterator yield a list of tokens.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**removed_tokens** – removed tokens from output dataset (Default: None)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Examples
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE13]'
  prefs: []
  type: TYPE_PRE
- en: filter_wikipedia_xml[](#filter-wikipedia-xml "Permalink to this heading")
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[PRE14]'
  prefs: []
  type: TYPE_PRE
- en: Filter wikipedia xml lines according to [https://github.com/facebookresearch/fastText/blob/master/wikifil.pl](https://github.com/facebookresearch/fastText/blob/master/wikifil.pl)
  prefs: []
  type: TYPE_NORMAL
- en: 'Parameters:'
  prefs: []
  type: TYPE_NORMAL
- en: '**text_iterator** – An iterator type object that yields strings. Examples include
    string list, text io, generators etc.'
  prefs: []
  type: TYPE_NORMAL
- en: Examples
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE15]'
  prefs: []
  type: TYPE_PRE
- en: to_map_style_dataset[](#to-map-style-dataset "Permalink to this heading")
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[PRE16]'
  prefs: []
  type: TYPE_PRE
- en: Convert iterable-style dataset to map-style dataset.
  prefs: []
  type: TYPE_NORMAL
- en: 'Parameters:'
  prefs: []
  type: TYPE_NORMAL
- en: '**iter_data** – An iterator type object. Examples include Iterable datasets,
    string list, text io, generators etc.'
  prefs: []
  type: TYPE_NORMAL
- en: Examples
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE17]'
  prefs: []
  type: TYPE_PRE
